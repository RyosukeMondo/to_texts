{
  "id": "snapshot_1760535377705_7wk8kq1pp",
  "approvalId": "approval_1760534942735_wgv7bd4d3",
  "approvalTitle": "Product Overview Document",
  "version": 2,
  "timestamp": "2025-10-15T13:36:17.705Z",
  "trigger": "revision_requested",
  "status": "pending",
  "content": "# Product Overview\n\n## Product Purpose\nThe `to_texts` project is a comprehensive monorepo containing tools for acquiring and processing ebooks. It solves two critical problems in the ebook workflow:\n\n1. **Book Acquisition**: Provides an efficient, user-friendly interface to search and download books from Z-Library\n2. **Text Extraction**: Extracts clean, formatted text from PDF and EPUB files for further processing, analysis, or conversion\n\nThe project enables researchers, students, developers, and book enthusiasts to build custom ebook workflows by combining these complementary tools.\n\n## Target Users\n**Primary Users:**\n- **Researchers & Academics**: Need to extract text from academic papers and ebooks for analysis, citations, or research\n- **Developers**: Building applications that process book content (NLP, machine learning, text analysis)\n- **Book Enthusiasts**: Managing personal digital libraries and converting between formats\n- **Students**: Accessing and processing educational materials efficiently\n\n**User Needs & Pain Points:**\n- Complicated interfaces for downloading books from Z-Library\n- Difficulty extracting clean text from PDFs with proper encoding support\n- No unified workflow for downloading and processing ebooks\n- Manual, repetitive tasks when processing multiple files\n\n## Key Features\n\n1. **Z-Library Downloader (Python)**:\n   - Beautiful interactive TUI (Text User Interface) with Rich library\n   - Advanced search with multiple filters (format, year, language, author)\n   - Command-line interface for automation and scripting\n   - Secure credential management via environment variables\n   - Both email/password and remix token authentication\n\n2. **Text Extractor (Rust)**:\n   - High-performance text extraction from PDF and EPUB files\n   - Proper UTF-8 encoding support for international characters\n   - Recursive directory processing for batch operations\n   - Clean, formatted text output with metadata extraction\n   - HTML tag stripping from EPUB content\n\n3. **Unified Workflow**:\n   - Monorepo structure for seamless integration\n   - Download books → Extract text → Process/analyze pipeline\n   - Consistent directory structure (downloads/ → tmp/)\n   - Cross-language interoperability\n\n## Business Objectives\n- **Empower Users**: Provide professional-grade tools for ebook acquisition and processing\n- **Maximize Efficiency**: Automate repetitive tasks in the ebook workflow\n- **Ensure Quality**: Deliver clean, properly-encoded text extraction with high accuracy\n- **Foster Integration**: Enable easy integration with existing workflows and tools\n- **Maintain Simplicity**: Keep both tools simple, focused, and easy to use\n\n## Success Metrics\n- **Text Extraction Accuracy**: >95% successful extraction rate across PDF and EPUB formats\n- **Processing Speed**: <1 second per average-sized book (Rust performance)\n- **User Experience**: Zero-configuration setup with environment variables\n- **Format Support**: PDF and EPUB with extensibility for additional formats\n- **Error Handling**: Clear, actionable error messages for all failure cases\n\n## Product Principles\n\n1. **Separation of Concerns**: Each tool does one thing exceptionally well - downloading or extraction\n2. **Performance Matters**: Use Rust for compute-intensive text extraction; Python for API integration\n3. **User Choice**: Offer both interactive (TUI) and scriptable (CLI) interfaces\n4. **Data Safety**: Never commit credentials; use environment variables and .gitignore\n5. **Clean Output**: Prioritize readable, well-formatted text over raw extraction\n6. **Fail Gracefully**: Handle errors without crashing; report progress clearly\n\n## Monitoring & Visibility\n\n### Z-Library Downloader\n- **Dashboard Type**: Terminal-based TUI with Rich library\n- **Real-time Updates**: Progress spinners during search and download operations\n- **Key Metrics Displayed**:\n  - Search results with book metadata (title, author, year, format, language)\n  - Downloads remaining quota\n  - Download progress and file paths\n- **Sharing Capabilities**: Command-line output can be piped/redirected for automation\n\n### Text Extractor\n- **Dashboard Type**: CLI with progress reporting\n- **Real-time Updates**: File-by-file processing status\n- **Key Metrics Displayed**:\n  - Files processed successfully\n  - Errors encountered\n  - Output file paths\n- **Sharing Capabilities**: Standard output for integration with scripts and pipelines\n\n## Future Vision\n\n### Potential Enhancements\n\n**Short-term (v0.2.0):**\n- **Format Support**: Add support for MOBI, AZW3, and DOC formats\n- **Text Processing**: Add options for text cleaning (remove headers/footers, page numbers)\n- **Metadata Extraction**: Export structured metadata (JSON/CSV) for cataloging\n\n**Medium-term (v0.3.0):**\n- **OCR Support**: Extract text from image-based PDFs using tesseract\n- **Preview Mode**: Quick preview of extracted text before full processing\n- **Batch Operations**: Improved batch download from Z-Library with queuing\n- **Configuration Files**: Support for .toml/.yaml configuration for repeated workflows\n\n**Long-term (v1.0.0+):**\n- **Remote Access**: Web-based dashboard for monitoring extraction jobs\n- **Analytics**: Track extraction quality metrics, processing time, format distribution\n- **Collaboration**: Shared download queues and extraction job management\n- **Cloud Integration**: S3/cloud storage upload for processed texts\n- **API Server**: RESTful API for text extraction as a service\n- **Database Integration**: Catalog books with full-text search capabilities\n",
  "fileStats": {
    "size": 5538,
    "lines": 111,
    "lastModified": "2025-10-15T13:28:52.226Z"
  },
  "comments": []
}